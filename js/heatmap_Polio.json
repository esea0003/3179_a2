{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "description": "Heatmap for Polio Vaccinations",
    "title": {
        "text": "Polio Vaccine Immunisation Heatmap",
        "fontSize": 16
    },
    "data": {"url": "https://raw.githubusercontent.com/esea0003/3179_a2/main/data/top_last_cases.csv"},
    "transform": [{"filter": "datum.Year >= 2005"}],
    "width": 200,
    "height": 200,
    "encoding": {
      "y": {"field": "Country", "type": "nominal", "sort": {"field": "Status", "order": "descending"}},
      "x": {"field": "Year", "type": "ordinal"},
      "color": {"field": "Polio"}
    },
    "layer": [{
        "mark": "rect",
        "encoding": {
            "color": {
                "field": "Polio",
                "title": "Immunisation Rate (%)",
                "type": "quantitative",
                "legend": {"direction": "vertical", "gradientLength": 120},
                "scale": {"range": ["#C73866","#F3676E" , "#FD8F52", "#FFDCA2"]}
            },
            "tooltip": [
              {"field": "Country"},
              { "field": "Year"},
              {"field": "Polio", "title": "Polio Immunisation Rate (%)"}
            ]
        }
    },
    
    {
        "mark": "text",
        "encoding": {
          "text": {"field": "Polio", "type": "quantitative"},
          "color": {
            "value": "black"
          }
        }
      }],
    
    "config": {"axis": {"grid": true, "gridColor": "grey","tickBand": "extent", "labelFontSize": 10,"titleFontSize": 14}}
  }